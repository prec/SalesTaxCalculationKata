<template>
  <require from="./styles/styles.scss"></require>
  <require from="./components/product-list"></require>
  <require from="./components/order"></require>
  <require from="./converters/currency-format"></require>

  <h1>${heading}</h1>
  <h2>Create Your Order</h2>
  <button click.delegate="createOrder()">Create New Order</button>
  <h2>Available Products</h2>
  <product-list products.bind="products"></product-list>
  <h2>Order Details</h2>
  <order order-id.bind="order.orderId"
         sales-tax-total.bind="order.salesTaxTotal.toFixed(2)"
         grand-total.bind="order.grandTotal.toFixed(2)"
         is-complete.bind="order.isComplete"></order>

  <h3>Basket</h3>
  <ul>
    <li repeat.for="oi of orderItems">1 ${oi.productDescription} at ${oi.productPrice | currencyFormat}</li>
  </ul>

  <h3>Receipt</h3>
  <ul>
    <li repeat.for="ri of receiptItems">${ri.productDescription}: ${ri.lineTotal | currencyFormat} <span if.bind="ri.numberPurchased > 1">(${ri.numberPurchased} @ ${ri.productPrice | currencyFormat})</span></li>
  </ul>
</template>
